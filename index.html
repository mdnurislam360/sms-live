<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title> Live Conference</title>

    <script src="https://unpkg.com/@zegocloud/zego-uikit-prebuilt/zego-uikit-prebuilt.js"></script>

    <style>
        /* ===== Fullscreen Fix ===== */
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            background: #0f172a;
            overflow: hidden;
            font-family: sans-serif;
        }

        #root {
            width: 100%;
            height: 100%;
        }

        /* Remove rounded card + stretch full */
        #root > div {
            height: 100% !important;
            border-radius: 0 !important;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script>
        window.onload = function () {

            // ===== URL PARAM =====
            function getUrlParams(url) {
                let urlStr = url.split('?')[1];
                const urlSearchParams = new URLSearchParams(urlStr);
                return Object.fromEntries(urlSearchParams.entries());
            }

            // ===== ROOM + USER =====
            const roomID = getUrlParams(window.location.href)['roomID'] || (Math.floor(Math.random() * 10000) + "");
            const userID = Date.now().toString();
            const userName = "HE_User_" + userID;

            // ===== ZEGO INFO =====
            const appID = 1772319407;
            const serverSecret = "353697f466f6b8372143a31f9c19d8d9";

            // ===== TOKEN =====
            const kitToken =
                ZegoUIKitPrebuilt.generateKitTokenForTest(
                    appID,
                    serverSecret,
                    roomID,
                    userID,
                    userName
                );

            const zp = ZegoUIKitPrebuilt.create(kitToken);

            // ===== JOIN ROOM =====
            zp.joinRoom({

                container: document.querySelector("#root"),

                // ❌ Invite link removed
                // ❌ No bottom box

                scenario: {
                    mode: ZegoUIKitPrebuilt.VideoConference,
                    config: { role: "Host" }
                },

                // ===== Default ON =====
                turnOnMicrophoneWhenJoining: true,
                turnOnCameraWhenJoining: true,

                // ===== Controls =====
                showMyCameraToggleButton: true,
                showMyMicrophoneToggleButton: true,
                showAudioVideoSettingsButton: true,
                showScreenSharingButton: true,
                showTextChat: true,
                showUserList: true,

                // ===== Room =====
                maxUsers: 50,
                layout: "Auto",
                showLayoutButton: true
            });
        };
    </script>

</body>
</html>
